<form (ngSubmit)="onSubmit()">
  <div>
    <label for="title">Title:</label>
    <input id="title" type="text" name="title" [(ngModel)]="appointment.title" required>
  </div>
  <div>
    <label for="date">Date:</label>
    <input id="date" type="date" name="date" [ngModel]="appointment.date | date:'yyyy-MM-dd'" (ngModelChange)="appointment.date = $event" required>
  </div>
  <button type="submit">{{ isEditing ? 'Update' : 'Add' }} Appointment</button>
  <button *ngIf="isEditing" type="button" (click)="cancelEdit()">Cancel</button>
</form>
<div>
  <h3>Appointments</h3>
  <ul cdkDropList (cdkDropListDropped)="drop($event)">
    <li *ngFor="let apt of appointments$ | async" cdkDrag>
      {{apt.title}} - {{apt.date | date}}
      <button (click)="editAppointment(apt)">Edit</button>
      <button (click)="deleteAppointment(apt.id)">Delete</button>
    </li>
  </ul>
</div>